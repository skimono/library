(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,a){e.exports=a(44)},26:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),r=a(18),i=a.n(r),u=(a(26),a(3)),l=a(4),c=a(7),s=a(5),h=a(6),m=a(19),d=a.n(m),p=a(2),f=a.n(p),g={signInFlow:"popup",signInOptions:[f.a.auth.GoogleAuthProvider.PROVIDER_ID,f.a.auth.FacebookAuthProvider.PROVIDER_ID,f.a.auth.EmailAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:function(){return!1}}},b=function(e){function t(){return Object(u.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"Expedition"),o.a.createElement("p",null,"Please Log-in:"),o.a.createElement(d.a,{uiConfig:g,firebaseAuth:f.a.auth()}))}}]),t}(n.Component),v=a(11),E=a(10),k=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(c.a)(this,Object(s.a)(t).call(this))).handleChange=function(t){if(t.target.files[0]){var a=t.target.files[0];e.setState(function(){return{image:a}}),e.setState({filename:a.name}),e.setState({url:"/image/"+a.name})}},e.updateInput=function(t){e.setState(Object(v.a)({},t.target.name,t.target.value))},e.addBook=function(t){t.preventDefault();var a=e.state.filename;f.a.storage().ref("/images/"+a).put(e.state.image).on("state_changed",function(e){},function(e){},function(){console.log("Image added")}),f.a.firestore().collection("Books").add({title:e.state.title,author:e.state.author,addedBy:f.a.auth().currentUser.uid,coverUrl:e.state.url}).then(function(){return console.log("Document added")}),e.setState({title:"",author:""})},e.state={title:[],author:"",image:null,filename:"",url:""},e.handleChange=e.handleChange.bind(Object(E.a)(Object(E.a)(e))),e}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("p",null,"Add additional books:"),o.a.createElement("form",{onSubmit:this.addBook},o.a.createElement("input",{type:"text",name:"title",placeholder:"Title",onChange:this.updateInput,value:this.state.title}),o.a.createElement("input",{type:"text",name:"author",placeholder:"Author",onChange:this.updateInput,value:this.state.author}),o.a.createElement("input",{type:"file",onChange:this.handleChange}),o.a.createElement("button",{type:"submit"},"Submit")))}}]),t}(n.Component),O=a(20),j=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).state={books:[]},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"list",value:function(){var e=this;f.a.firestore().collection("Books").onSnapshot(function(t){var a=[];t.forEach(function(e){return a.push(Object(O.a)({id:e.id},e.data()))}),e.setState({books:a})})}},{key:"render",value:function(){var e=this.state.books;return this.list(),o.a.createElement("div",null,o.a.createElement("p",null,"List of known books:"),o.a.createElement("ul",null,e.map(function(e){return o.a.createElement("li",{key:e.id},'"',e.title,'" \u2014 ',o.a.createElement("i",null,e.author))})))}}]),t}(n.Component);f.a.initializeApp({apiKey:"AIzaSyDb6MxVPz02Dzu6TBU6uRMZk6lSfsEuH8E",authDomain:"solwit-pjatk-arc-2018-gr3.firebaseapp.com",databaseURL:"https://solwit-pjatk-arc-2018-gr3.firebaseio.com/",projectId:"solwit-pjatk-arc-2018-gr3",storageBucket:"solwit-pjatk-arc-2018-gr3.appspot.com",messagingSenderId:"314895835823"});var y=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).state={isLoggedIn:!1},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.unregisterAuthObserver=f.a.auth().onAuthStateChanged(function(t){return e.setState({isLoggedIn:!!t})});f.a.firestore().settings({timestampsInSnapshots:!0})}},{key:"componentWillUnmount",value:function(){this.unregisterAuthObserver()}},{key:"render",value:function(){return this.state.isLoggedIn?o.a.createElement("div",{className:"app"},o.a.createElement("h1",null,"Expedition"),o.a.createElement("p",null,"Welcome ",f.a.auth().currentUser.displayName,"! You are now logged-in!"),o.a.createElement("button",{onClick:function(){return f.a.auth().signOut()}},"Logout"),o.a.createElement(k,null),o.a.createElement("br",null),o.a.createElement(j,null)):o.a.createElement(b,null)}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[21,2,1]]]);
//# sourceMappingURL=main.ade767a9.chunk.js.map